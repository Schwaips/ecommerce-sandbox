{% extends 'base.html.twig' %}

{% block title %}Hello CategoryController!{% endblock %}

{% block body %}

  <div class="container my-5">
    <h1>Mon panier</h1>

    <div class="row">
      <div class="col-md-8">
        <p>Votre panier contient {{ cart|length }} produit(s)</p>

        {% if cart|length == 0 %}
          <div class="alert alert-info">Votre panier est vide</div>
        {% endif %}

        {% if cart|length > 0 %}
          {% for product in cart %}
            <div class="row mt-2">
              <div class="col-md-2">
                <img src="/uploads/products/{{ product.object.illustration }}" class="img-fluid" alt="{{ product.object.name }}">
              </div>
              <div class="col-md-6">
                <strong>{{ product.object.name }}</strong>
                <span class="d-block small"> Prix unitaire : {{product.object.pricewt|price}}</span>
              </div>
              <div class="col-md-2">
                <a href="{{ path('app_cart_decrease', { product_id: product.object.id } )}}" class="mt-3">-</a><span class="badge text-bg-secondary"> x{{product.qty}}</span> <a href="{{ path('app_cart_add', { product_id: product.object.id } )}}" class="mt-3">+</a>
              </div>
              <div class="col-md-2">
                <strong class="d-block">Total : {{(product.object.pricewt * product.qty)|price}}</strong>
              </div>
            </div>
          {% endfor %}

          <a href="{{path('app_cart_remove_all_product')}}">Vider le panier</a>
        {% endif %}
      </div>

      <div class="col-md-4">
        RÃ©cap
      </div>
    </div>
  </div>

{% endblock %}
